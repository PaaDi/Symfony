

{% extends 'gestion_devis/template.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/flex.css') }}" media="all"/>
    <link rel="stylesheet" type="text/css" href="{{ asset('css/general_css.css') }}" media="all"/>
    <link rel="stylesheet" type="text/css" href="{{ asset('css/chantiers/chantierEnCoursCo.css') }}" media="all"/>
{% endblock %}

{% block contenu %}
    <h2>Liste des chantiers en cours pour USERNAME</h2>

    <div id="wrapper_encours_chantiers" class="flex flex_aic flex_sa">
        <div id="recherche_chantiers" class="flex flex1 flex_col flex_sa">
            <h5>Recherche</h5>
            <label for="filtre_chantier">Filtres :</label><br>
            <select id="filtre_chantier1" name="filtre_chantier">
                <option value="">--Ville Chantier--</option>
                <option value="Paris">Paris</option>
                <option value="Pau">Pau</option>
                <option value="Toulouse">Toulouse</option>
                <option value="Bayonne">Bayonne</option>
                <option value="Tarbes">Tarbes</option>
                <option value="Bordeaux">Bordeaux</option>
            </select><br>
            <select id="filtre_chantier2" name="filtre_chantier">
                <option value="">--Nom Client--</option>
                <option value="Martin">Dumond</option>
                <option value="Durand">Lafayette</option>
                <option value="Lesage">Chami</option>
                <option value="Maidi">Legrain</option>
                <option value="Jones">Jones</option>
                <option value="Costa">Silva</option>
            </select><br>
            <select id="filtre_chantier3" name="filtre_chantier">
                <option value="">--Nom Vendeur--</option>
                <option value="Neels">Neels</option>
                <option value="Simon">Simon</option>
                <option value="Lee">Lee</option>
                <option value="Heddle">Heddle</option>
                <option value="Bonnet">Bonnet</option>
                <option value="Tomasi">Tomasi</option>
            </select><br>
            <label for="search_date_debut_chantier">Date de création du chantier :</label>
            <div>
                <span class="far fa-calendar-alt"></span>
                <input type="text" placeholder="jj/mm/aaaa" id="search_date_debut_chantier" name="search_date_debut_chantier" required>
            </div>
        </div>

{#        --- a remplacer par ton code en dessous une fois le controller créé ---#}
                <div id="affichage_chantiers" class="flex flex4">
                    <ul id="liste_chantiers"class="flex flex4 flex_col">
                        <li><input type="checkbox">Chantier n°1 : Monsieur Dumond - Pau</li>
                        <li><input type="checkbox">Chantier n°2 : Monsieur et Madame Chami - Bayonne</li>
                        <li><input type="checkbox">Chantier n°3 : Monsieur Silva - Bordeaux</li>
                        <li><input type="checkbox">Chantier n°4 : Madame Lafayette - Toulouse</li>
                        <li><input type="checkbox">Chantier n°5 : Monsieur et Madame Legrain - Tarbes</li>
                    </ul>
                    <div id="espace_boutons" class="flex flex1 flex_col flex_center">
                        <button id="visualisation_chantier" name="visualisation_chantier" class="btn_vert">
                            <a href="#">Visualiser</a>
                        </button>
                        <button id="modification_chantier" name="modification_chantier" class="btn_vert">Modifier</button>
                        <button id="archivage_chantier" name="archivage_chantier" class="btn_vert">Archiver</button>
                    </div>
                </div>
{#        --- Ta version dans projets, adaptée pour chantier, manque le controller chantier ---#}
       {# <div id="affichage_chantiers" class="flex flex4">
            {% for chantier in chantiers %}
                <div class="carte_chantier">
                    <div class="flex flex1">
                        <p>{{ chantier.datecreation|format_datetime('short', 'none', locale='fr') }}</p>
                        <p style="font-weight: bolder">{{ chantier.nom }}</p>
                    </div>
                    #}{#<p class="fas fa-chevron-right" style="font-size: 1.5rem"></p>#}{#
                    <div id="espace_boutons" class="container flex flex1 flex_end float-right">
                        <button id="visualisation_chantier" name="visualisation_chantier" class="btn_vert col-2 flex flex_aic flex_center">Visualiser</button>
                        <button id="modification_chantier" name="modification_chantier" class="btn_vert col-2 flex flex_aic flex_center">Modifier</button>
                        <button id="archivage_chantier" name="archivage_chantier" class="btn_vert col-2 flex flex_aic flex_center">Archiver</button>
                    </div>
                </div>
            {% endfor %}
        </div>#}
        <style>
            #affichage_chantiers{
                display: flex;
                flex-flow: column;
                background-color: #f2f2f2;
                border-radius: 5px;
                border: solid 1px #2b2b2b36;
                padding: 1rem;
                margin-top: 1rem;
            }
            .carte_chantier{
                display: flex;
                flex-flow: row nowrap;
                justify-content: space-between;
                background-color: white;
                padding: 0.5rem;
                border-radius: 5px;

                margin-top: 1rem;
                text-decoration: none;
                color: black;
            }
            .carte_chantier:first-of-type{
                margin-top: 0;
            }
            .carte_chantier p{
                margin-right: calc(0.5vw + 0.5vh);
            }
            .carte_chantier:hover{
                background-color: white;
                text-decoration: none;
                color: black;
            }

        </style>


    </div>

{% endblock %}

{% block javascripts %}
    <script>
        $(function(){
            $.datepicker.setDefaults( $.datepicker.regional[ "fr" ] );

            $('#search_date_debut_chantier').off();
            $('#search_date_debut_chantier').datepicker();
        });
    </script>
{% endblock %}